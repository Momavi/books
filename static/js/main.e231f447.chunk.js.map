{"version":3,"sources":["components/common/paginator/paginator.module.scss","components/Seacrh/Search.module.scss","components/Books/Books.module.scss","components/Seacrh/SearchForm/SearchForm.module.scss","components/Books/Book/Book.module.scss","assets/preloader.svg","components/common/preloader/Preloader.jsx","components/Seacrh/SearchForm/SearchItem/SearchItem.jsx","components/Seacrh/SearchForm/SearchForm.jsx","components/Seacrh/Search.jsx","api/api.js","redux/books-reducer.js","components/Seacrh/SearchContainer.jsx","components/Books/Book/BookMapArray.jsx","components/Books/Book/Book.jsx","components/common/paginator/paginator.jsx","components/Books/Books.jsx","redux/popup-reducer.js","redux/books-selector.js","components/Books/BooksContainer.jsx","components/common/popup/Popup.jsx","components/common/popup/PopupContainer.js","App.jsx","redux/store.jsx","index.jsx"],"names":["module","exports","Preloader","props","src","preloader","alt","SearchItem","value","name","Search","state","booksPage","categoriElements","categori","map","d","id","sortElement","sort","initialValues","text","onSubmit","values","setFormData","getBooks","pageSize","className","s","form","form__input","form__wrapper","form__categori","form__categori__text","form__categori__field","as","form__sort","form__sort__text","form__sort__field","form__button","type","search","search__wrapper","search__title","SearchForm","instance","axios","baseURL","booksAPI","sortText","startIndex","maxResults","keyAPI","subject","get","SET_BOOKS","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","SET_TOTAL_BOOKS_COUNT","SET_FORM_DATA","GET_FORM_DATA","initialtState","books","totalBooks","currentPage","isFetching","formData","setBooks","setTotalBooksCount","toggleIsFetching","dispatch","a","currentStartIndex","data","totalItems","items","booksReducer","action","compose","connect","BookMapArray","volume","undefined","index","length","Book","book","togglePopupOpen","isPopupOpen","volumeInfo","book__wrapper","book__inner","book__image__img","imageLinks","thumbnail","book__info","book__title","title","book__description","book__authors","authors","book__categories","categories","onClick","book__btn","etag","Paginator","totalBooksCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","counter","btn","filter","p","cn","active","counter__item","e","Books","books__paginator","books__wrapper","u","error","SET_POPUP_DATA","TOOGLE_POPUP_OPEN","popupData","setPopupData","setIsPopupOpen","popupReducer","getBooksState","getPageSize","getTotalBooksCount","getCurrentPage","getIsFetching","getFormData","BooksContainer","pageNumber","setCurrentPage","this","React","Component","popupPage","Popup","description","App","PopupContainer","SearchContainer","fallback","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e231f447.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"paginator_counter__CSilD\",\"counter__item\":\"paginator_counter__item__3evtN\",\"active\":\"paginator_active__yLCrV\",\"btn\":\"paginator_btn__3tqdJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__aElN-\",\"search__wrapper\":\"Search_search__wrapper__1d7TJ\",\"search__title\":\"Search_search__title__1T9Lv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"books__wrapper\":\"Books_books__wrapper__azvND\",\"books__paginator\":\"Books_books__paginator__1xJY_\",\"error\":\"Books_error__1sSrA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__3SJu_\",\"form__input\":\"SearchForm_form__input__1tyH0\",\"form__wrapper\":\"SearchForm_form__wrapper__OP6Yl\",\"form__categori\":\"SearchForm_form__categori__h8GWD\",\"form__categori__text\":\"SearchForm_form__categori__text__2fYxy\",\"form__sort\":\"SearchForm_form__sort__rmkuj\",\"form__sort__text\":\"SearchForm_form__sort__text__1NU9P\",\"form__button\":\"SearchForm_form__button__1id9v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__hsvXs\",\"book__wrapper\":\"Book_book__wrapper__2Lo9v\",\"book__inner\":\"Book_book__inner__2S1C-\",\"book__title\":\"Book_book__title__2f88A\",\"book__image\":\"Book_book__image__2U7i2\",\"book__image__img\":\"Book_book__image__img__16SAZ\",\"book__info\":\"Book_book__info__Q9wSA\",\"book__authors\":\"Book_book__authors__2cmoq\",\"book__categories\":\"Book_book__categories__SLMAA\",\"book__btn\":\"Book_book__btn__1ZZy-\"};","export default __webpack_public_path__ + \"static/media/preloader.a9c647ed.svg\";","import preloader from '../../../assets/preloader.svg'\r\n\r\nfunction Preloader(props) {\r\n  return <img src={preloader} alt=\"preloader\" />\r\n}\r\n\r\nexport default Preloader;","function SearchItem(props) {\r\n  return (\r\n    <option value={props.name}>{props.name}</option>\r\n  )\r\n}\r\nexport default SearchItem","import { Formik, Form, Field } from 'formik';\r\nimport SearchItem from './SearchItem/SearchItem';\r\n\r\nimport s from './SearchForm.module.scss'\r\n\r\nfunction Search(props) {\r\n  let state = props.booksPage;\r\n\r\n  let categoriElements = state.categori.map(d => <SearchItem name={d.name} key={d.id} />);\r\n  let sortElement = state.sort.map(d => <SearchItem name={d.name} key={d.id} />);\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        text: '',\r\n        categori: 'all',\r\n        sort: 'relevance',\r\n      }}\r\n      onSubmit={values => {\r\n        props.setFormData(values)\r\n        props.getBooks(values, 1, props.booksPage.pageSize)\r\n      }}>\r\n      <Form className={s.form}>\r\n        <Field className={s.form__input} name=\"text\" />\r\n        <div className={s.form__wrapper}>\r\n          <div className={s.form__categori}>\r\n            <label className={s.form__categori__text}>Categories</label>\r\n            <Field className={s.form__categori__field} name=\"categori\" as=\"select\">\r\n              {categoriElements}\r\n            </Field>\r\n          </div>\r\n          <div className={s.form__sort}>\r\n            <label className={s.form__sort__text}>Sorting by</label>\r\n            <Field className={s.form__sort__field} name=\"sort\" as=\"select\">\r\n              {sortElement}\r\n            </Field>\r\n          </div>\r\n        </div>\r\n        <button className={s.form__button} type=\"submit\">Submit</button>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Search;","import SearchForm from \"./SearchForm/SearchForm\";\r\n\r\nimport s from './Search.module.scss'\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <div className={s.search}>\r\n      <div className={s.search__wrapper}>\r\n        <h1 className={s.search__title}>Search for books</h1>\r\n        <SearchForm booksPage={props.booksPage} setFormData={props.setFormData} getBooks={props.getBooks}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://www.googleapis.com/books/v1/',\r\n});\r\n\r\nexport const booksAPI = {\r\n  getBooks(sortText = 'javascript', startIndex = 0, maxResults = 30) {\r\n    const keyAPI = 'AIzaSyCtNydhUF3PxH_n7KSa5WimBl_qLIwQyHg'\r\n    let subject = sortText.categori === 'all' ?\r\n      '' :\r\n      `+subject:${sortText.categori}`\r\n    return instance.get(`volumes?q=${sortText.text}${subject}&orderBy=${sortText.sort}&startIndex=${startIndex}&maxResults=${maxResults}&key=${keyAPI}`)\r\n  }\r\n}","import { booksAPI } from \"./../api/api\";\r\n\r\nconst SET_BOOKS = 'SET_BOOKS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst SET_TOTAL_BOOKS_COUNT = 'SET_TOTAL_BOOKS_COUNT'\r\nconst SET_FORM_DATA = 'SET_FORM_DATA'\r\nconst GET_FORM_DATA = 'GET_FORM_DATA'\r\n\r\nlet initialtState = {\r\n  books: [],\r\n  pageSize: 30,\r\n  totalBooks: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  categori: [\r\n    { id: 1, name: 'All' },\r\n    { id: 2, name: 'Art' },\r\n    { id: 3, name: 'Biography' },\r\n    { id: 4, name: 'Computers' },\r\n    { id: 5, name: 'History' },\r\n    { id: 6, name: 'Medical' },\r\n    { id: 7, name: 'Poetry' },\r\n  ],\r\n  sort: [\r\n    { id: 1, name: 'Relevance' },\r\n    { id: 2, name: 'Newest' },\r\n  ],\r\n  formData: {\r\n    text: '',\r\n    categori: 'all',\r\n    sort: 'relevance',\r\n  }\r\n};\r\n\r\nfunction booksReducer(state = initialtState, action) {\r\n  switch (action.type) {\r\n    case SET_BOOKS:\r\n      return { ...state, books: action.books }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case SET_TOTAL_BOOKS_COUNT: {\r\n      return { ...state, totalBooks: action.totalBooks }\r\n    }\r\n    case SET_FORM_DATA: {\r\n      return { ...state, formData: action.formData }\r\n    }\r\n    case GET_FORM_DATA: {\r\n      return { ...state, formData: action.formData }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setBooks = (books) => ({ type: SET_BOOKS, books })\r\nexport const setFormData = (formData) => ({ type: SET_FORM_DATA, formData })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalBooksCount = (totalBooks) => ({ type: SET_TOTAL_BOOKS_COUNT, totalBooks })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const getFormData = () => ({ type: GET_FORM_DATA })\r\n\r\nexport const getBooks = (values, currentPage = 1, maxResults = 30) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n\r\n    let currentStartIndex = (currentPage * maxResults) - maxResults\r\n    let data = await booksAPI.getBooks(values, currentStartIndex, maxResults)\r\n\r\n    dispatch(setTotalBooksCount(data.data.totalItems));\r\n    dispatch(setBooks(data.data.items));\r\n    dispatch(toggleIsFetching(false));\r\n  }\r\n}\r\n\r\n\r\nexport default booksReducer;","import Search from './Search';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { setFormData, getBooks } from './../../redux/books-reducer'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    booksPage: state.booksPage,\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { setFormData, getBooks }),\r\n)(Search);","function BookMapArray({ volume }) {\r\n  return (\r\n    <span>\r\n      {\r\n        volume !== undefined\r\n          ?\r\n          volume.map((value, index) => {\r\n            return (\r\n              volume.length - 1 > index\r\n                ?\r\n                <span key={index}>{value}, </span>\r\n                :\r\n                <span key={index}>{value}</span>\r\n            )\r\n          })\r\n          :\r\n          null\r\n      }\r\n    </span>\r\n  )\r\n}\r\nexport default BookMapArray","import s from './Book.module.scss'\r\nimport BookMapArray from './BookMapArray';\r\n\r\nlet Book = ({ book, togglePopupOpen, isPopupOpen }) => {\r\n  let volume = book.volumeInfo;\r\n\r\n  return (\r\n    <div className={s.book__wrapper} key={book.etag}>\r\n      <div className={s.book__inner}>\r\n        <img className={s.book__image__img} src={\r\n          volume.imageLinks !== undefined\r\n            ?\r\n            volume.imageLinks.thumbnail\r\n            :\r\n            null\r\n        } alt=\"\" />\r\n        <div className={s.book__info}>\r\n          <h3 className={s.book__title}>{volume.title}</h3>\r\n          <div className={s.book__description}>\r\n            <div className={s.book__authors}>\r\n              <span>Авторы: </span>\r\n              <BookMapArray volume={volume.authors} />\r\n            </div>\r\n            <div className={s.book__categories}>\r\n              <span>Категория: </span>\r\n              <BookMapArray volume={volume.categories} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button onClick={() => { togglePopupOpen(book, !isPopupOpen) }} className={s.book__btn}>Show more</button>\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default Book;","import { useState } from 'react';\r\nimport s from './paginator.module.scss'\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({ totalBooksCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n  let pagesCount = Math.ceil(totalBooksCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount - 1; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  return (\r\n    <ul className={s.counter}>\r\n      {portionNumber > 1 &&\r\n        <button className={s.btn} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n          return <span className={cn({\r\n            [s.active]: currentPage === p\r\n          }, s.counter__item)}\r\n            key={p}\r\n            onClick={(e) => { onPageChanged(p) }}>{p}</span>\r\n        })}\r\n      {portionCount > portionNumber &&\r\n        <button className={s.btn} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Paginator;","import Book from './Book/Book';\r\nimport Paginator from './../common/paginator/paginator';\r\nimport Preloader from './../common/preloader/Preloader';\r\nimport s from './Books.module.scss';\r\n\r\nfunction Books({ books, onPageChanged, pageSize, totalBooksCount, currentPage, isFetching, isPopupOpen, togglePopupOpen }) {\r\n  return (\r\n    <div>\r\n      <h2>Total books we found: {totalBooksCount}</h2>\r\n      <div className={s.books__paginator}>\r\n        <Paginator\r\n          currentPage={currentPage}\r\n          onPageChanged={onPageChanged}\r\n          totalBooksCount={totalBooksCount}\r\n          pageSize={pageSize} />\r\n      </div>\r\n      <div className={s.books__wrapper}>\r\n        {isFetching\r\n          ?\r\n          <Preloader />\r\n          :\r\n          books !== undefined\r\n            ?\r\n            books.map((u) =>\r\n              <Book\r\n                book={u}\r\n                key={u.etag}\r\n                isPopupOpen={isPopupOpen}\r\n                togglePopupOpen={togglePopupOpen}\r\n              />\r\n            )\r\n            :\r\n            <span className={s.error}>Книги пропали(попробуйте снова)</span>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Books;","const SET_POPUP_DATA = 'SET_POPUP_DATA'\r\nconst TOOGLE_POPUP_OPEN = 'TOOGLE_POPUP_OPEN'\r\n\r\nlet initialtState = {\r\n  popupData: {},\r\n  isPopupOpen: false,\r\n};\r\n\r\nfunction popupReducer(state = initialtState, action) {\r\n  switch (action.type) {\r\n    case SET_POPUP_DATA:\r\n      return { ...state, popupData: action.popupData }\r\n    case TOOGLE_POPUP_OPEN:\r\n      return { ...state, isPopupOpen: action.isPopupOpen }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setPopupData = (popupData) => ({ type: SET_POPUP_DATA, popupData })\r\nexport const setIsPopupOpen = (isPopupOpen) => ({ type: TOOGLE_POPUP_OPEN, isPopupOpen })\r\n\r\n\r\nexport const togglePopupOpen = (book, isPopupOpen) => {\r\n  return async (dispatch) => {\r\n    dispatch(setPopupData(book));\r\n    dispatch(setIsPopupOpen(isPopupOpen));\r\n  }\r\n}\r\n\r\nexport default popupReducer;","export const getBooksState = (state) => {\r\n  return state.booksPage.books;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.booksPage.pageSize;\r\n}\r\n\r\nexport const getTotalBooksCount = (state) => {\r\n  return state.booksPage.totalBooks;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.booksPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.booksPage.isFetching;\r\n}\r\n\r\nexport const getFormData = (state) => {\r\n  return state.booksPage.formData;\r\n}","import React from 'react';\r\nimport Books from './Books';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport Preloader from './../common/preloader/Preloader'\r\nimport { getBooks, setCurrentPage } from './../../redux/books-reducer';\r\nimport { setPopupData, togglePopupOpen } from './../../redux/popup-reducer'\r\nimport {\r\n  getBooksState,\r\n  getPageSize,\r\n  getTotalBooksCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFormData,\r\n} from '../../redux/books-selector'\r\n\r\nclass BooksContainer extends React.Component {\r\n  componentDidMount() {\r\n  }\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.setCurrentPage(pageNumber)\r\n    this.props.getBooks(this.props.formData, pageNumber, 30)\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <>\r\n        {\r\n          !this.props.isFetching\r\n            ?\r\n            <Books\r\n              books={this.props.books}\r\n              pageSize={this.props.pageSize}\r\n              onPageChanged={this.onPageChanged}\r\n              totalBooksCount={this.props.totalBooksCount}\r\n              currentPage={this.props.currentPage}\r\n              isFetching={this.props.isFetching}\r\n\r\n              isPopupOpen={this.props.isPopupOpen}\r\n              togglePopupOpen={this.props.togglePopupOpen}\r\n            />\r\n            :\r\n            <Preloader />\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    books: getBooksState(state),\r\n    pageSize: getPageSize(state),\r\n    totalBooksCount: getTotalBooksCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    formData: getFormData(state),\r\n\r\n    isPopupOpen: state.popupPage.isPopupOpen,\r\n    togglePopupOpen: togglePopupOpen\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getBooks, setCurrentPage, setPopupData, togglePopupOpen }),\r\n)(BooksContainer);","import './popup.scss'\r\nimport BookMapArray from './../../Books/Book/BookMapArray'\r\n\r\nlet Popup = (props) => {\r\n  let popupPage = props.popupPage\r\n  let volume = props.popupPage.popupData.volumeInfo\r\n  return (\r\n    <div>\r\n      {\r\n        volume !== undefined\r\n          ?\r\n          <div className={`popup ${popupPage.isPopupOpen ? 'open' : 'close'}`} onClick={() => { props.togglePopupOpen(!popupPage.isPopupOpen) }}>\r\n            <div className=\"popup__body\">\r\n              <div className=\"popup__close\" onClick={() => { props.togglePopupOpen(!popupPage.isPopupOpen) }}>×</div>\r\n              <h3>{volume.title}</h3>\r\n              <img src={\r\n                volume.imageLinks !== undefined\r\n                  ?\r\n                  volume.imageLinks.thumbnail\r\n                  :\r\n                  null\r\n              } alt=\"\" />\r\n              <div className=\"popup__authors\">\r\n                <span>Авторы: </span>\r\n                <BookMapArray volume={volume.authors} />\r\n              </div>\r\n              <div className=\"popup__categories\">\r\n                <span>Категория: </span>\r\n                <BookMapArray volume={volume.categories} />\r\n              </div>\r\n              <p className=\"popup__description\">{volume.description}</p>\r\n            </div>\r\n          </div>\r\n          :\r\n          null\r\n\r\n      }\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default Popup;","import Popup from './Popup';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { setPopupData, togglePopupOpen } from './../../../redux/popup-reducer'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    popupPage: state.popupPage,\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { setPopupData, togglePopupOpen }),\r\n)(Popup);","import { Suspense } from 'react';\nimport Preloader from './components/common/preloader/Preloader';\nimport SearchContainer from './components/Seacrh/SearchContainer';\nimport BooksContainer from './components/Books/BooksContainer';\nimport PopupContainer from './components/common/popup/PopupContainer';\nimport './App.css';\n\nfunction App(props) {\n  return (\n    <div className=\"App\">\n      <PopupContainer />\n      <SearchContainer />\n      <Suspense fallback={<Preloader />}>\n        <div className=\"content\">\n          <h2>...The books are almost here, it remains to press the button</h2>\n          <BooksContainer />\n        </div>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nimport booksReducer from './books-reducer';\r\nimport popupReducer from './popup-reducer';\r\n\r\nlet reducers = combineReducers({\r\n  booksPage: booksReducer,\r\n  popupPage: popupReducer,\r\n})\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}